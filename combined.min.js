try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(e,f){Object.defineProperty(this,e,{get:f,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(e,f){Object.defineProperty(this,e,{set:f,enumerable:!0,configurable:!0})}}))}catch(defPropException){}var global={};
(function(){global="undefined"==typeof window?process:window;global.Appacitive||(global.Appacitive={runtime:{isNode:"undefined"!=typeof process,isBrowser:"undefined"!=typeof window}});var e=function(a){if(!a||!a.send||"function"!=typeof a.send)throw Error("No applicable httpTransport class found");a.onResponse=this.onResponse;var b=[],c={},l=0,e={},f=0;this.addProcessor=function(a){if(a){a.pre=a.pre||function(){};a.post=a.post||function(){};var b=a.pre;l+=1;c[l]=b;a=a.post;f+=1;e[f]=a}};this.enqueueRequest=
function(a){b.push(a)};this.notify=function(){if(0!==b.length){var l=[],f;for(f in e)e.hasOwnProperty(f)&&l.push(e[f]);for(;0<b.length;){var g=b.shift(),p=[];for(f in c)c.hasOwnProperty(f)&&p.push(c[f](g));a.send(g,l,p)}}};this.onResponse=function(a){console.dir(a)}},f=function(){var a=function(){throw Error("Not Implemented Exception");};this.inOnline=this.send=a;this.onResponse=function(){a()};this.onError=function(){a()}},c=function(){var a=new f;a.type="jQuery based http provider";a.send=function(a,
d,e){"function"==typeof a.beforeSend&&a.beforeSend(a);switch(a.method.toLowerCase()){case "get":$.ajax({url:a.url,type:"GET",async:a.async,beforeSend:function(b){for(var d=0;d<a.headers.length;d+=1)b.setRequestHeader(a.headers[d].key,a.headers[d].value)},success:function(f){try{f=JSON.parse(f)}catch(m){}b(f,d,e);c.onResponse(f,a)},error:function(b){c.onError(a,b)}});break;case "post":$.ajax({url:a.url,type:"POST",async:a.async,contentType:"application/json",data:JSON.stringify(a.data),beforeSend:function(b){for(var d=
0;d<a.headers.length;d+=1)b.setRequestHeader(a.headers[d].key,a.headers[d].value)},success:function(f){try{f=JSON.parse(f)}catch(m){}b(f,d,e);c.onResponse(f,a)},error:function(b){c.onError(a,b)}});break;case "put":$.ajax({url:a.url,type:"PUT",contentType:"application/json",data:JSON.stringify(a.data),async:a.async,beforeSend:function(b){for(var d=0;d<a.headers.length;d+=1)b.setRequestHeader(a.headers[d].key,a.headers[d].value)},success:function(f){try{f=JSON.parse(f)}catch(m){}b(f,d,e);c.onResponse(f,
a)},error:function(b){c.onError(a,b)}});break;case "delete":$.ajax({url:a.url,type:"DELETE",async:a.async,beforeSend:function(b){for(var d=0;d<a.headers.length;d+=1)b.setRequestHeader(a.headers[d].key,a.headers[d].value)},success:function(f){try{f=JSON.parse(f)}catch(m){}b(f,d,e);c.onResponse(f,a)},error:function(b){c.onError(a,b)}});break;default:throw Error("Unrecognized http method: "+a.method);}};a.isOnline=function(){return window.navigator.onLine||!0};var b=function(a,b,d){if(b.length!=d.length)throw Error("Callback length and state length mismatch!");
for(var c=0;c<b.length;c+=1)b[c].apply({},[a,d[c]])},c=a;$=$||{};$.ajax=$.ajax||{};return a},a=function(){var a=new f;a.type="Http provider for nodejs";a.send=function(a,d,f){"function"==typeof a.beforeSend&&a.beforeSend(a);var m=a;a=require("url").parse(m.url);var m=m||{},n;for(n in m)if("headers"==n)for(var p=0;p<m.headers.length;p+=1)c.headers[m.headers[p].key]=m.headers[p].value;else c[n]=m[n];c.host=a.host;c.port=a.port||80;c.path=a.path;c.method=m.method.toUpperCase();"string"!=typeof c.data&&
(c.data=JSON.stringify(c.data));c.headers["Content-Length"]=c.data.length;c.headers["Content-Type"]="application/json";n=e.request(c,function(a){var c="";a.setEncoding("utf8");a.on("data",function(a){c+=a});a.on("end",function(){if("application/json"==a.headers["content-type"]&&"200"==a.statusCode){"{"!=c[0]&&(c=c.substr(1,c.length-1));a.json=JSON.parse(c);var e=a.json;if(d.length!=f.length)throw Error("Callback length and state length mismatch!");for(var l=0;l<d.length;l+=1)d[l].apply({},[e,f[l]]);
b.onResponse(a.json,m)}else a.text=c,b.onError(m,a)})});n.write(c.data);n.on("error",function(a){b.onError(m,a)});n.end()};a.isOnline=function(){return!0};var b=a,c={host:"localhost",port:80,path:"",data:"{}",method:"GET",headers:{"Content-Type":"application/json",accept:"application/json"}},e=require("http");return a};global.Appacitive.http=new function(){var b=global.Appacitive.runtime.isBrowser?new c:new a,h=new e(b),f=!1;this.pause=function(){f=!0};this.unpause=function(){f=!1};this.addProcessor=
function(a){var b=Error('Must provide a processor object with either a "pre" function or a "post" function.');if(!a)throw b;if(!a.pre&&!a.post)throw b;h.addProcessor(a)};this.send=function(a){h.enqueueRequest(a);b.isOnline()&&!1==f&&h.notify()};this.flush=function(a){a?h.notify():b.isOnline()&&h.notify()};this.onError=function(a,b){if(a.onError)if(a.context)a.onError.apply(a.context,[b]);else a.onError(b)};b.onError=this.onError;this.onResponse=function(a,b){if(b.onSuccess)if(b.context)b.onSuccess.apply(b.context,
[a]);else b.onSuccess(a)};b.onResponse=this.onResponse};global.Appacitive.HttpRequest=function(){this.url="";this.data={};this.async=!0;this.headers=[];this.method="GET"};global.Appacitive&&global.Appacitive.http&&global.Appacitive.http.addProcessor({pre:function(){return(new Date).getTime()},post:function(a,b){var c=(new Date).getTime()-b;a._timeTakenInMilliseconds=c}});var b=global;b.Appacitive&&b.Appacitive.http&&b.Appacitive.http.addProcessor({pre:function(a){return a},post:function(){}})})();
(function(e){String.format=function(c,a){if(1>=arguments.length)return c;for(var b=arguments.length-2,d=0;d<=b;d++)c=c.replace(RegExp("\\{"+d+"\\}","gi"),arguments[d+1]);return c};String.prototype.toPascalCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.trimChar=function(c){var a=RegExp("^"+c),b=this;a.test(b)&&(b=b.slice(1,b.length));a=RegExp(c+"$");a.test(b)&&(b=b.slice(0,-1));return b};String.toSearchString=function(c){"undefined"==typeof c&&(c="");for(var a=
"",b=0;b<c.length;b+=1)-1==" .,;#".indexOf(c[b])&&(a+=c[b]);return a=a.toLowerCase()};String.contains=function(c,a){return-1!=c.indexOf(a)};String.startsWith=function(c,a){return 0==c.indexOf(a)};e.dateFromWcf=function(c,a){var b=/Date\(([^)]+)\)/.exec(c);if(2!=b.length){if(!a)return s;throw Error(s+" is not .net json date.");}return new Date(parseFloat(b[1]))};var f=function(){e.Appacitive.bag=e.Appacitive.bag||{};e.Appacitive.bag.accountName=e.Appacitive.bag.accountName||{};e.Appacitive.bag.selectedType=
e.Appacitive.bag.selectedType||{};e.Appacitive.bag.apps=e.Appacitive.bag.apps||{};e.Appacitive.bag.apps.selected=e.Appacitive.bag.apps.selected||{};e.Appacitive.bag.apps.selected.name=e.Appacitive.bag.apps.selected.name||{};e.Appacitive.bag.selectedCatalog=e.Appacitive.bag.selectedCatalog||{};e.Appacitive.bag.selectedCatalog.Id=e.Appacitive.bag.selectedCatalog.Id||0;e.Appacitive.bag.selectedCatalog.blueprintid=e.Appacitive.bag.selectedCatalog.blueprintid||0;e.Appacitive.bag.selectedCatalog.BlueprintId=
e.Appacitive.bag.selectedCatalog.BlueprintId||0;e.Appacitive.models=e.Appacitive.models||{};e.Appacitive.models.deploymentCollection=e.Appacitive.models.deploymentCollection||{};e.Appacitive.models.deploymentCollection.deployments=e.Appacitive.models.deploymentCollection.deployments||{};var c=(e.Appacitive.config||{apiBaseUrl:""}).apiBaseUrl;c.lastIndexOf("/")==c.length-1&&(c=c.substring(0,c.length-1));this.email={emailServiceUrl:"email",getSendEmailUrl:function(){return String.format("{0}/send",
this.emailServiceUrl)}};this.user={userServiceUrl:c+"user",getCreateUrl:function(){return String.format("{0}/create",this.userServiceUrl)},getAuthenticateUserUrl:function(){return String.format("{0}/authenticate",this.userServiceUrl)},getUserUrl:function(a){return String.format("{0}/{1}",this.userServiceUrl,a)},getUpdateUrl:function(a){return String.format("{0}/{1}",this.userServiceUrl,a)},getDeleteUrl:function(a){return String.format("{0}/{1}",this.userServiceUrl,a)},getSearchAllUrl:function(a,b,
d){a="";a=String.format("{0}/search/user/all",(new f).article.articleServiceUrl);a=d?a+"?psize="+d:a+"?psize=10";if("undefined"!==typeof b&&0<b.length)for(d=0;d<b.length;d+=1)0!=b[d].trim().length&&(a=a+"&"+b[d]);return a},getGetAllLinkedAccountsUrl:function(a){return String.format("{0}/{1}/linkedaccounts",this.userServiceUrl,a)}};this.device={deviceServiceUrl:c+"article",getCreateUrl:function(){return String.format("{0}/register",this.deviceServiceUrl)},getUpdateUrl:function(a){return String.format("{0}/{1}",
this.deviceServiceUrl,a)},getDeleteUrl:function(a){return String.format("{0}/{1}",this.deviceServiceUrl,a)}};this.article={articleServiceUrl:c+"article",getGetUrl:function(a,b){return String.format("{0}/{1}/{2}",this.articleServiceUrl,a,b)},getMultiGetUrl:function(a,b,d){return String.format("{0}/multiGet/{1}/{2}",this.articleServiceUrl,b,d)},getMultiDeleteUrl:function(a,b){return String.format("{0}/multidelete/{1}",this.articleServiceUrl,b)},getSearchAllUrl:function(a,b,d,c){a="";a=String.format("{0}/search/{1}/all",
this.articleServiceUrl,b);a=c?a+"?psize="+c:a+"?psize=10";if("undefined"!==typeof d&&0<d.length)for(b=0;b<d.length;b+=1)0!=d[b].trim().length&&(a=a+"&"+d[b]);return a},getProjectionQueryUrl:function(){return String.format("{0}/search/project",this.articleServiceUrl)},getPropertiesSearchUrl:function(a,b,d){a=String.format("{0}/search/{1}/all",this.articleServiceUrl,b);return a+("?properties="+d)},getDeleteUrl:function(a,b){return String.format("{0}/{1}/{2}?verbose=true&debug=true",this.articleServiceUrl,
a,b)},getCreateUrl:function(a){return String.format("{0}/{1}",this.articleServiceUrl,a)},getUpdateUrl:function(a,b){return String.format("{0}/{1}/{2}",this.articleServiceUrl,a,b)}};this.connection={connectionServiceUrl:c+"connection",getGetUrl:function(a,b){return String.format("{0}/{1}/{2}",this.connectionServiceUrl,a,b)},getCreateUrl:function(a){return String.format("{0}/{1}",this.connectionServiceUrl,a)},getUpdateUrl:function(a,b,d){return String.format("{0}/update/{1}/{2}",this.connectionServiceUrl,
b,d)},getDeleteUrl:function(a,b){return String.format("{0}/{1}/{2}",this.connectionServiceUrl,a,b)},getMultiDeleteUrl:function(a,b){return String.format("{0}/multidelete/{1}",this.connectionServiceUrl,b)},getSearchByArticleUrl:function(a,b,d,c,e){a="";a=String.format("{0}/{1}/find/all?label={2}&articleid={3}",this.connectionServiceUrl,b,c,d);if("undefined"!==typeof e&&0<e.length)for(b=0;b<e.length;b+=1)a=a+"&"+e[b];return a},getConnectedArticles:function(a,b,d,c){a="";a=String.format("{0}/{1}/{2}/find",
this.connectionServiceUrl,b,d);if(c&&c.length&&0<c.length)for(b=0;b<c.length;b+=1)a=0==b?a+("?"+c[b]):a+("&"+c[b]);return a},getInterconnectsUrl:function(){var a="";return a=String.format("{0}/connectedarticles",this.connectionServiceUrl)},getPropertiesSearchUrl:function(a,b,c){a=String.format("{0}/{1}/find/all",this.connectionServiceUrl,b);return a+("?properties="+c)}};this.cannedList={cannedListServiceUrl:c+"/list",getGetListItemsUrl:function(a){return String.format("{0}/list/{1}/contents",this.cannedListServiceUrl,
a)}};this.push={pushServiceUrl:"push",getPushUrl:function(){return String.format("{0}/",this.pushServiceUrl)},getGetNotificationUrl:function(a){return String.format("{0}/notification/{1}",this.pushServiceUrl,a)},getGetAllNotificationsUrl:function(a){return String.format("{0}/getAll?psize={1}&pnum={2}",this.pushServiceUrl,a.psize,a.pnum)}};this.query={params:function(a){var b=[];return""==location.search||-1==location.search.indexOf("?")?b:a?(a=a.toLowerCase(),location.search.split("?")[1].split("&").forEach(function(c,
e){var f=e.split("="),l=f[1];2<f.length&&f.forEach(function(a){0==a||1==a||(l=l+"="+f[a])});f[0].toLowerCase()==a&&(b=[f[0],l])}),b):location.search.split("?")[1].split("=")}}};e.Appacitive.storage=e.Appacitive.storage||{};e.Appacitive.storage.urlFactory=new f})(global);
(function(e){e.Appacitive.eventManager=new function(){var e={};this.subscribe=function(c,a){if("string"!=typeof c||"function"!=typeof a)throw Error("Incorrect subscription call");"undefined"==typeof e[c]&&(e[c]=[]);var b;b=function(){return Math.floor(65536*Math.random()).toString(16)};b=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();e[c].push({callback:a,id:b});return b};this.unsubscribe=function(c){if(!c)return!1;var a=-1,b=null,d;for(d in e)for(var h=0;h<e[d].length;h+=1)if(e[d][h].id==c){a=h;
b=d;break}return-1!=a?(e[b].splice(a,1),!0):!1};this.fire=function(c,a,b){if("string"!=typeof c)throw Error("Incorrect fire call");if("undefined"==typeof b||null===b)b={};b.eventName=c;console&&(console.log&&"function"==typeof console.log)&&console.log(c+" fired");if("undefined"!=typeof e.all)for(var d=0;d<e.all.length;d+=1)e.all[d].callback(a,b);d=function(a,b,c){setTimeout(function(){a(b,c)},0)};if("undefined"!=typeof e[c])for(var h=0;h<e[c].length;h+=1)d(e[c][h].callback,a,b)};this.clearSubscriptions=
function(c){if("string"!=typeof c)throw Error("Event Name must be string in EventManager.clearSubscriptions");e[c]&&(e[c].length=0);return this};this.clearAndSubscribe=function(c,a){this.clearSubscriptions(c);this.subscribe(c,a)};this.dump=function(){console.dir(e)}}})(global);(function(e){e.Appacitive.config={apiBaseUrl:"https://apis.appacitive.com/"}})(global);
(function(e){e.Appacitive.session=new function(){var f=function(){this.apikey="";this.isnonsliding=!1;this.usagecount=-1;this.windowtime=240},c=null,a=null,b=null;this.useApiKey=!0;this.onSessionCreated=function(){};this.recreate=function(){e.Appacitive.session.create(a)};this.create=function(d){a=d=d||{};var h=new f;d.apikey?(h.apikey=d.apikey||"",b=h.apikey):h.apikey=b;h.isnonsliding=d.isnonsliding||h.isnonsliding;h.usagecount=d.usagecount||h.usagecount;h.windowtime=d.windowtime||h.windowtime;d=
new e.Appacitive.HttpRequest;d.url=e.Appacitive.config.apiBaseUrl+"application.svc/session";d.method="put";d.data=h;d.onSuccess=function(a){a&&a.status&&"200"==a.status.code?(c=a.session.sessionkey,e.Appacitive.session.useApiKey=!1,e.Appacitive.eventManager.fire("session.success",{},a),e.Appacitive.session.onSessionCreated()):e.Appacitive.eventManager.fire("session.error",{},a)};e.Appacitive.http.send(d)};var d=null,h=!1;e.Appacitive.http.addProcessor({pre:function(a){e.Appacitive.session.useApiKey?
a.headers.push({key:"appacitive-apikey",value:b}):a.headers.push({key:"appacitive-session",value:c});!0===h&&(1==a.headers.filter(function(a){return"appacitive-user-auth"==a.key}).length?a.headers.forEach(function(a){"appacitive-user-auth"==a.key&&(a.value=d)}):a.headers.push({key:"appacitive-user-auth",value:d}))}});this.setUserAuthHeader=function(a){h=!0;d=a};this.removeUserAuthHeader=function(){h=!1};this.isSessionValid=function(a){if(!a)return!0;if(a.status){if(a.status.code&&("8027"==a.status.code||
"8002"==a.status.code))return!1}else if(a.code&&("8027"==a.code||"8002"==a.code))return!1;return!0};this.resetSession=function(){c=null};this.get=function(){return c};this.setSession=function(a){c=a};this.setApiKey=function(a){b=a};var j="sandbox";this.__defineGetter__("environment",function(){return j});this.__defineSetter__("environment",function(a){"sandbox"!=a&&"live"!=a&&(a="sandbox");j=a})};e.Appacitive.initialize=function(f){e.Appacitive.session.setApiKey(f.apikey||"");e.Appacitive.session.environment=
f.env||"";e.Appacitive.useApiKey=!0}})(global);(function(e){e.Appacitive&&e.Appacitive.http&&e.Appacitive.http.addProcessor({pre:function(f){f.headers.push({key:"appacitive-environment",value:e.Appacitive.session.environment})}})})(global);
(function(e){e.Appacitive.queries={};var f=function(a){a=a||{};this.pageNumber=a.pageNumber||1;this.pageSize=a.pageSize||200};f.prototype.toString=function(){return"psize="+this.pageSize+"&pnum="+this.pageNumber};var c=function(a){a=a||{};this.orderBy=a.orderBy||"__UtcLastUpdatedDate";this.isAscending="undefined"==typeof a.isAscending?!1:a.isAscending};c.prototype.toString=function(){return"orderBy="+this.orderBy+"&isAsc="+this.isAscending};var a=function(a){var d=a||{};this.pageQuery=new f(a);this.sortQuery=
new c(a);this.type=a.type||"article";this.baseType=a.schema||a.relation;this.freeText=this.filter="";this.extendOptions=function(a){for(var b in a)d[b]=a[b];this.pageQuery=new f(d);this.sortQuery=new c(d)};this.setFilter=function(a){this.filter=a};this.setFreeText=function(a){this.freeText=a};this.toUrl=function(){var a=e.Appacitive.config.apiBaseUrl+this.type+".svc/"+this.baseType+"/find/all?"+this.pageQuery.toString()+"&"+this.sortQuery.toString();0<this.filter.trim().length&&(a+="&query="+this.filter);
0<this.freeText.trim().length&&(a+="&freetext="+this.freeText+"&language=en");return a}};e.Appacitive.queries.SearchAllQuery=function(b){b=b||{};var d=new a(b);this.toRequest=function(){var a=new e.Appacitive.HttpRequest;a.url=d.toUrl();a.method="get";return a};this.extendOptions=function(){d.extendOptions.apply(d,arguments)};this.getOptions=function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(a[b]=d[b]);return a}};e.Appacitive.queries.BasicFilterQuery=function(b){b=b||
{};var d=new a(b);this.toRequest=function(){var a=new e.Appacitive.HttpRequest;a.url=d.toUrl();b.filter&&0<b.filter.trim().length&&(a.url+="&query="+b.filter);b.freeText&&0<b.freeText.trim().length&&(a.url+="&freetext="+b.freeText+"&language=en");a.method="get";return a};this.extendOptions=function(){d.extendOptions.apply(d,arguments)};this.getOptions=function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(a[b]=d[b]);return a}};e.Appacitive.queries.GraphQuery=function(b){b=
b||{};var d=new a(b);this.toRequest=function(){var a=new e.Appacitive.HttpRequest;a.url=e.Appacitive.config.apiBaseUrl;a.url+=e.Appacitive.storage.urlFactory.article.getProjectionQueryUrl();a.method="post";a.data=b.graphQuery;return a};this.extendOptions=function(){d.extendOptions.apply(d,arguments)};this.getOptions=function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(a[b]=d[b]);return a}};e.Appacitive.queries.ConnectedArticlesQuery=function(b){b=b||{};var d=new a(b);this.toRequest=
function(){var a=new e.Appacitive.HttpRequest;a.url=e.Appacitive.config.apiBaseUrl+"connection/"+b.relation+"/"+b.articleId+"/find?"+d.pageQuery.toString()+"&"+d.sortQuery.toString();return a};this.extendOptions=function(){d.extendOptions.apply(d,arguments)};this.setFilter=function(){d.setFilter.apply(d,arguments)};this.setFreeText=function(){d.setFreeText.apply(d,arguments)};this.getOptions=function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(a[b]=d[b]);return a}}})(global);
(function(e){e.Appacitive.BaseObject=function(f){var c=null,a=f=f||{};this.fetch=function(b,d){b=b||function(){};d=d||function(){};if(a.__id){var f=this,k=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory[this.type].getGetUrl(a.__schematype||a.__relationtype,a.__id),g=new e.Appacitive.HttpRequest;g.url=k;g.method="get";g.onSuccess=function(e){if(e&&(e.article||e.connection||e.user||e.device)){c=e.article||e.connection||e.user||e.device;e=e.article||e.connection||e.user||e.device;a.__id=
e.__id;for(var k in e)"undefined"==typeof a[k]&&(a[k]=e[k]);f.___collection&&"article"==f.___collection.collectionType&&f.___collection.addToCollection(f);b()}else d(e.status)};e.Appacitive.http.send(g)}else d()};this.del=function(b,d,c){b=b||function(){};d=d||function(){};c=c||{};if(!a.__id&&this.___collection)this.___collection.removeByCId(this.__cid),b();else{var f=this,g=e.Appacitive.config.apiBaseUrl,g=g+e.Appacitive.storage.urlFactory[this.type].getDeleteUrl(a.__schematype||a.__relationtype,
a.__id);if(a&&a.__schematype&&("user"==a.__schematype.toLowerCase()||"device"==a.__schematype.toLowerCase()))g=e.Appacitive.config.apiBaseUrl,g+=e.Appacitive.storage.urlFactory[a.__schematype.toLowerCase()].getDeleteUrl(a.__id);c.deleteConnections&&!0===c.deleteConnections&&(g=-1==g.indexOf("?")?g+"?deleteconnections=true":g+"&deleteconnections=true");c=new e.Appacitive.HttpRequest;c.url=g;c.method="delete";c.onSuccess=function(c){"200"==c.code?(f.___collection&&f.___collection.removeById(a.__id),
b()):d(c)};c.onError=function(a){d(a)};e.Appacitive.http.send(c)}};this.getArticle=function(){return a};this.toJSON=function(){return a};this.attributes=function(){if(0===arguments.length)return a.__attributes||(a.__attributes={}),a.__attributes;if(1==arguments.length)return a.__attributes||(a.__attributes={}),a.__attributes[arguments[0]];if(2==arguments.length)a.__attributes||(a.__attributes={}),a.__attributes[arguments[0]]=arguments[1];else throw Error(".attributes() called with an incorrect number of arguments. 0, 1, 2 are supported.");
};this.aggregates=function(){var b={},c;for(c in a){if(!a.hasOwnProperty(c))return;"$"==c[0]&&(b[c]=a[c])}if(0===arguments.length)return b;if(1==arguments.length)return b[arguments[0]];throw Error(".aggregates() called with an incorrect number of arguments. 0, and 1 are supported.");};this.get=function(b){if(b)return a[b]};this.set=function(b,c){b&&(a[b]=c);return c};this.save=function(c,e){a.__id?b.apply(this,arguments):d.apply(this,arguments)};var b=function(b,d){b=b||function(){};d=d||function(){};
var f=!1,k=JSON.parse(JSON.stringify(c)),g;for(g in a)"undefined"==typeof a[g]||null===a[g]?(k[g]=null,f=!0):a[g]!=c[g]?(k[g]=a[g],f=!0):a[g]==c[g]&&delete k[g];if(f){f=new e.Appacitive.HttpRequest;g=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory[this.type].getUpdateUrl(a.__schematype||a.__relationtype,c.__id);if(a&&a.__schematype&&("user"==a.__schematype.toLowerCase()||"device"==a.__schematype.toLowerCase()))g=e.Appacitive.config.apiBaseUrl,g+=e.Appacitive.storage.urlFactory[a.__schematype.toLowerCase()].getUpdateUrl(c.__id);
f.url=g;f.method="post";f.data=k;f.onSuccess=function(a){a&&(a.article||a.connection||a.user||a.device)?(c=a.article||a.connection||a.user||a.device,"function"==typeof b&&b()):"function"==typeof d&&d(a.status)};f.onError=function(a){d(a)};e.Appacitive.http.send(f)}},d=function(b,d){b=b||function(){};d=d||function(){};var f=this,k=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory[this.type].getCreateUrl(a.__schematype||a.__relationtype);if(a.__schematype&&("user"==a.__schematype.toLowerCase()||
"device"==a.__schematype.toLowerCase()))k=e.Appacitive.config.apiBaseUrl,k+=e.Appacitive.storage.urlFactory[a.__schematype.toLowerCase()].getCreateUrl();var g=new e.Appacitive.HttpRequest;g.url=k;g.method="put";g.data=a;g.onSuccess=function(e){var k=null;if(e&&(e.article||e.connection||e.user||e.device))k=e.article||e.connection||e.user||e.device;if(e&&k){c=k;a.__id=k.__id;for(var g in k)"undefined"==typeof a[g]&&(a[g]=k[g]);f.connectionCollections&&0<f.connectionCollections.length&&f.connectionCollections.forEach(function(b){b.getQuery().extendOptions({articleId:a.__id})});
"function"==typeof b&&b()}else"function"==typeof d&&d(e.status)};g.onError=function(a){d(a)};e.Appacitive.http.send(g)}}})(global);
(function(e){var f=function(){return Math.floor(65536*Math.random()).toString(16)};e.Appacitive.GUID=function(){var c=f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f(),a="",b,d,e,j,l,k,g=0,c=c.replace(/\r\n/g,"\n");d="";for(e=0;e<c.length;e++)j=c.charCodeAt(e),128>j?d+=String.fromCharCode(j):(127<j&&2048>j?d+=String.fromCharCode(j>>6|192):(d+=String.fromCharCode(j>>12|224),d+=String.fromCharCode(j>>6&63|128)),d+=String.fromCharCode(j&63|128));for(c=d;g<c.length;)b=c.charCodeAt(g++),d=c.charCodeAt(g++),
e=c.charCodeAt(g++),j=b>>2,b=(b&3)<<4|d>>4,l=(d&15)<<2|e>>6,k=e&63,isNaN(d)?l=k=64:isNaN(e)&&(k=64),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k);return a.toString()}})(global);
(function(e){e.Appacitive.ArticleCollection=function(f){var c=null,a=null,b=[],d=f;this.collectionType="article";if(!f||!f.schema)throw Error("Must provide schema while initializing ArticleCollection.");var h=this,j=function(b){c=b.schema;b.type="article";a=new e.Appacitive.queries.SearchAllQuery(b);h.extendOptions=a.extendOptions;d=b};this.setFilter=function(b){d.filter=b;d.type="article";d.schema=c;a=new e.Appacitive.queries.BasicFilterQuery(f)};this.setFreeText=function(b){!b&&0==b.trim().length&&
(d.freeText="");d.freeText=b;d.type="article";d.schema=c;a=new e.Appacitive.queries.BasicFilterQuery(f)};this.reset=function(){c=d=null;b.length=0;a=null};this.getQuery=function(){return a};this.setOptions=j;j(f);this.get=function(a){if(a!=parseInt(a,10))return null;a=parseInt(a,10);return"number"!=typeof a||a>=b.length?null:b.slice(a,a+1)[0]};this.addToCollection=function(a){if(!a||a.get("__schematype")!=c)throw Error("Null article passed or schema type mismatch");var d=null;b.forEach(function(b,
c){b.get("__id")==a.get("__id")&&(d=c)});0!=d?b.splice(d,1):b.push(a)};this.getArticle=function(a,d,c){d=d||function(){};c=c||function(){};var e=b.filter(function(b){return b.get("__id")==a});1==e.length?d(Array.prototype.slice.call(e)[0]):c()};this.getAll=function(){return Array.prototype.slice.call(b)};this.getAllArticles=function(){return Array.prototype.slice.call(b).map(function(a){return a.getArticle()})};this.removeById=function(a){if(!a)return!1;var d=null;b.forEach(function(b,c){b.getArticle().__id&&
b.getArticle().__id==a&&(d=c)});return null!==d?(b.splice(d,1),!0):!1};this.removeByCId=function(a){if(!a)return!1;var d=null;b.forEach(function(b,c){b.__cid&&b.__cid==a&&(d=c)});return null!==d?(b.splice(d,1),!0):!1};this.fetch=function(d,c){d=d||function(){};c=c||function(){};b.length=0;var f=a.toRequest();f.onSuccess=function(a){var f=d,g=a.articles;if(g){if(!g.length||0===g.length)g=[];g.forEach(function(a){a=new e.Appacitive.Article(a);a.___collection=h;b.push(a)});f(a.paginginfo||{})}else c(a.status)};
e.Appacitive.http.send(f)};this.fetchByPageNumber=function(b,d,c){a.getOptions().pageQuery.pageNumber=c;this.fetch(b,d)};this.fetchNextPage=function(b,d){a.getOptions().pageQuery.pageNumber+=1;this.fetch(b,d)};this.fetchPreviousPage=function(b,d){var c=a.getOptions().pageQuery;c.pageNumber-=1;0===c.pageNumber&&(c.pageNumber=1);this.fetch(b,d)};this.createNewArticle=function(a){a=a||{};a.__schematype=c;a=new e.Appacitive.Article(a);a.___collection=h;a.__cid=parseInt(1E6*Math.random(),10);b.push(a);
return a};this.map=function(){return b.map.apply(this,arguments)};this.forEach=function(){return b.forEach.apply(this,arguments)};this.filter=function(){return b.filter.apply(this,arguments)}}})(global);
(function(e){e.Appacitive.ConnectionCollection=function(f){var c=null,a=null,b=[],d=[],h=f;this.collectionType="connection";if(!f||!f.relation)throw Error("Must provide relation while initializing ConnectionCollection.");var j=function(b){c=b.relation;b.type="connection";a=new e.Appacitive.queries.SearchAllQuery(b);h=b};this.setFilter=function(b){h.filter=b;h.type="connection";h.relation=c;a=new e.Appacitive.queries.BasicFilterQuery(f)};this.setQuery=function(d){if(!d)throw Error("Invalid query passed to connectionCollection");
b.length=0;a=d};this.reset=function(){c=h=null;articles.length=0;b.length=0;a=null};this.getQuery=function(){return a};this.setOptions=j;j(f);this.get=function(a){if(a!=parseInt(a,10))return null;a=parseInt(a,10);return"number"!=typeof a||a>=b.length?null:b.slice(a,a+1)[0]};this.addToCollection=function(a){if(!a||a.get("__relationtype")!=c)throw Error("Null connection passed or relation type mismatch");var d=null;b.forEach(function(b,c){b.get("__id")==a.get("__id")&&(d=c)});null!==d?b.splice(d,1):
b.push(a)};this.getConnection=function(a,d,c){d=d||function(){};c=c||function(){};var e=b.filter(function(b){return b.get("__id")==a});1==e.length?d(Array.prototype.slice.call(e)[0]):c()};this.getAll=function(){return Array.prototype.slice.call(b)};this.getAllConnections=function(){return Array.prototype.slice.call(b).map(function(a){return a.getConnection()})};this.removeById=function(a){if(!a)return!1;var d=null;b.forEach(function(b,c){b.getConnection().__id&&b.getConnection().__id==a&&(d=c)});
return null!==d?(b.splice(d,1),!0):!1};this.removeByCId=function(a){if(!a)return!1;var d=null;b.forEach(function(b,c){b.__cid&&b.__cid==a&&(d=c)});return null!==d?(b.splice(d,1),!0):!1};var l=this;this.getConnectedArticle=function(a){if(!d||0===d.length)return null;var b=d.filter(function(b){return b.get("__id")==a});return 0<b.length?b[0]:null};this.fetch=function(c,f){c=c||function(){};f=f||function(){};b.length=0;var h=a.toRequest();h.onSuccess=function(a){a:{var h=c;a=a||{};var j=a.connections;
if(!j)if(a.status&&a.status.code&&"200"==a.status.code)j=[];else{f(a.status);break a}if(!j.length||0===j.length)j=[];j.forEach(function(a){var c=new e.Appacitive.Connection(a);c.___collection=l;b.push(c);if(a.__endpointa.article||a.__endpointb.article)a=new e.Appacitive.Article(a.__endpointa.article||a.__endpointb.article),a.___collection=l,d.push(a)});h(a.paginginfo||{})}};e.Appacitive.http.send(h)};this.createNewConnection=function(a){a=a||{};a.__relationtype=c;a=new e.Appacitive.Connection(a);
a.___collection=l;a.__cid=parseInt(1E6*Math.random(),10);b.push(a);return a};this.map=function(){return b.map.apply(this,arguments)};this.forEach=function(a,d){return b.forEach(a,d||this)};this.filter=function(){return b.filter.apply(this,arguments)}}})(global);
(function(e){var f=function(c,a){var b=new e.Appacitive.HttpRequest;b.method="get";b.url=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory.user.getGetAllLinkedAccountsUrl(this.get("__id"));b.onSuccess=function(b){var e=null;b&&(b.identities&&0<b.identities.length)&&(b=b.identities.filter(function(a){return"facebook"==a.authtype.toLowerCase()}),1==b.length&&(e=b[0].username));null!==e?FB.api("/"+e,function(b){b?c(b):a()}):a()};b.onError=function(){a()};e.Appacitive.http.send(b)};e.Appacitive.Article=
function(c){c=new e.Appacitive.BaseObject(c);c.type="article";c.connectionCollections=[];c.get("__schematype")&&"user"==c.get("__schematype").toLowerCase()&&(c.getFacebookProfile=f);return c};e.Appacitive.BaseObject.prototype.getConnectedArticles=function(c){if("article"!=this.type)return null;c=c||{};c.articleId=this.get("__id");var a=new e.Appacitive.ConnectionCollection({relation:c.relation});a.connectedArticle=this;this.connectionCollections.push(a);c=new e.Appacitive.queries.ConnectedArticlesQuery(c);
a.setQuery(c);return a};e.Appacitive.BaseObject.prototype.getConnected=function(c){if("article"!=this.type)return null;c=c||{};c.onSuccess=c.onSuccess||function(){};c.onError=c.onError||function(){};c.articleId=this.get("__id")}})(global);
(function(e){var f=function(c){var a={label:c.label};if(c.articleid)a.articleid=c.articleid;else if(c.article&&"function"==typeof c.article.getArticle)c.article.get("__id")?a.articleid=c.article.get("__id"):a.article=c.article.getArticle();else if("object"==typeof c.article&&c.article.__schematype)c.article.__id?a.articleid=c.article.__id:a.article=c.article;else throw Error("Incorrectly configured endpoints provided to setupConnection");return a};e.Appacitive.Connection=function(c){var a=new e.Appacitive.BaseObject(c);
a.type="connection";a.getConnection=a.getArticle;a.__defineGetter__("connectedArticle",function(){if(!a.___collection.connectedArticle)throw Error("connectedArticle can be accessed only by using the getConnectedArticles call");var b=a.___collection.connectedArticle.get("__id");if(!b)return null;var d=a.getConnection().__endpointa.articleid;a.getConnection().__endpointa.articleid==b&&(d=a.getConnection().__endpointb.articleid);return a.___collection.getConnectedArticle(d)});a.setupConnection=function(b,
d){if(!b||!b.id||b.label||!d||!d.id||d.label)throw Error("Incorrect endpoints configuration passed.");a.set("__endpointa",f(b));a.set("__endpointb",f(d))};return a}})(global);
(function(e){e.Appacitive.Users=new function(){var f=null;this.__defineGetter__("currentUser",function(){return f});e.Appacitive.User=function(c){c=new e.Appacitive.BaseObject(c);c.type="user";c.connectionCollections=[];c.get("__schematype")&&"user"==c.get("__schematype").toLowerCase()&&(c.getFacebookProfile=_getFacebookProfile);return c};this.deleteUser=function(c,a,b){a=a||function(){};b=b||function(){};var d=new e.Appacitive.HttpRequest;d.method="delete";d.url=e.Appacitive.config.apiBaseUrl;d.url+=
e.Appacitive.storage.urlFactory.user.getDeleteUrl(c);d.onSuccess=function(d){d&&d.code&&"200"==d.code?(e.Appacitive.session.removeUserAuthHeader(),e.Appacitive.localStorage.set("Appacitive-User",null),a(d)):(d=d||{},d.message=d.message||"Server error",b(d))};d.onError=b;e.Appacitive.http.send(d)};this.deleteCurrentUser=function(c,a){if(null===f)throw Error("Current user is not set yet for delete operation");this.deleteUser(f.__id,c||function(){},a||function(){})};this.createUser=this.signup=function(c,
a,b){a=a||function(){};b=b||function(){};c=c||{};c.__schematype="user";if(!c.username||!c.password||!c.firstname||0==c.username.length||0==c.password.length||0==c.firstname.length)throw Error("Username, password and firstname are mandatory");var d=new e.Appacitive.HttpRequest;d.method="put";d.url=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory.user.getCreateUrl();d.data=c;d.onSuccess=function(d){d&&d.user?a(d.user):b((d||{}).status||"No response from APIs.")};d.onError=b;e.Appacitive.http.send(d)};
this.authenticateUser=function(c,a,b){a=a||function(){};b=b||function(){};var d=new e.Appacitive.HttpRequest;d.method="post";d.url=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory.user.getAuthenticateUserUrl();d.data=c;d.onSuccess=function(d){d&&d.user?(f=d.user,e.Appacitive.session.setUserAuthHeader(d.token),e.Appacitive.localStorage.set("Appacitive-User",d.user),a(d)):(d=d||{},b(d.status))};d.onError=b;e.Appacitive.http.send(d)};this.authenticateWithFacebook=this.signupWithFacebook=
function(c,a){c=c||function(){};a=a||function(){};FB.api("/me",function(){var b={accesstoken:e.Appacitive.facebook.accessToken,type:"facebook",expiry:3600,attempts:-1,createnew:!0},d=new e.Appacitive.HttpRequest;d.url=e.Appacitive.config.apiBaseUrl+e.Appacitive.storage.urlFactory.user.getAuthenticateUserUrl();d.method="post";d.data=b;d.onSuccess=function(b){b.user?(e.Appacitive.session.setUserAuthHeader(b.token),e.Appacitive.localStorage.set("Appacitive-User",b.user),f=b.user,c(b)):a(b)};d.onError=
function(){a()};e.Appacitive.http.send(d)})}}})(global);
(function(e){e.Appacitive.email=new function(){var f={smtp:{username:null,password:null,host:"smtp.gmail.com",port:465,enablessl:!0},from:null,replyto:null};this.getConfig=function(){return f};var c=function(a,b,d){var c=new e.Appacitive.HttpRequest;c.url=e.Appacitive.config.apiBaseUrl+Appacitive.storage.urlFactory.email.getSendEmailUrl();c.method="post";c.data=a;c.onSuccess=function(a){a&&a.status&&"200"==a.status.code?b(a.email):(a=a||{},a.status=a.status||{},d(a.status.message||"Server error"))};
e.Appacitive.http.send(c)};this.setupEmail=function(a){a=a||{};f.smtp.username=a.username||f.smtp.username;f.from=a.from||f.from;f.smtp.password=a.password||f.smtp.password;f.smtp.host=a.smtp.host||f.smtp.host;f.smtp.port=a.smtp.port||f.smtp.port;f.smtp.enablessl=a.enableSSL||f.smtp.enablessl;f.replyto=a.replyTo||f.replyto};this.sendTemplatedEmail=function(a,b,d){b=b||function(){};d=d||function(){};if(!a||!a.to||!a.to.length||0==a.to.length)throw Error("Atleast one receipient is mandatory to send an email");
if(!a.subject||0==a.subject.trim().length)throw Error("Subject is mandatory to send an email");if(!a.from&&f.from)throw Error("from is mandatory to send an email. Set it in config or send it in options");if(!a.templateName)throw Error("template name is mandatory to send an email");var e={to:a.to||[],cc:a.cc||[],bcc:a.bcc||[],subject:a.subject,body:{templatename:a.templateName||"",data:a.data||{},ishtml:!1==a.isHtml?!1:!0}};if(a.useConfig){e.smtp=f.smtp;if(!a.from&&!f.from)throw Error("from is mandatory to send an email. Set it in config or send it in options");
e.from=a.from||f.from;e.replyto=a.replyTo||f.replyto}c(e,b,d)};this.sendRawEmail=function(a,b,d){b=b||function(){};d=d||function(){};if(!a||!a.to||!a.to.length||0==a.to.length)throw Error("Atleast one receipient is mandatory to send an email");if(!a.subject||0==a.subject.trim().length)throw Error("Subject is mandatory to send an email");if(!a.body)throw Error("body is mandatory to send an email");var e={to:a.to||[],cc:a.cc||[],bcc:a.bcc||[],subject:a.subject,body:{content:a.body||"",ishtml:!1==a.isHtml?
!1:!0}};if(a.useConfig){e.smtp=f.smtp;if(!a.from&&!f.from)throw Error("from is mandatory to send an email. Set it in config or send it in options");e.from=a.from||f.from;e.replyto=a.replyTo||f.replyto}c(e,b,d)}}})(global);
(function(e){var f=function(){var c=require("facebook-node-sdk"),a=null;this.FB=null;this.initialize=function(a,d){if(!a)throw Error("Please provide appid");if(!d)throw Error("Please provide app secret");this.FB=new c({appId:a,secret:d})};this.requestLogin=function(b,d,c){this.FB?(a=accesstoken,FB.setAccessToken(b)):c("Intialize facebook with your appid and appsecret")};this.getCurrentUserInfo=function(b,d){this.FB&&a?(b=b||function(){},d=d||function(){},this.FB.api("/me",function(a,c){c?b(c):d("Access token is invalid")})):
d("Either intialize facebook with your appid and appsecret or set accesstoken")};this.__defineGetter__("accessToken",function(){return a});this.__defineSetter__("accessToken",function(b){console.log(b);a=b;this.FB&&this.FB.setAccessToken(b)});this.getProfilePictureUrl=function(a){return"https://graph.facebook.com/"+a+"/picture"}};e.Appacitive.facebook=e.Appacitive.runtime.isBrowser?new function(){var c=null;this.requestLogin=function(a,b){a=a||function(){};b=b||function(){};FB?FB.login(function(d){d.authResponse?
(c=d.authResponse.accessToken,a(d.authResponse)):b()},{scope:"email,user_birthday"}):b()};this.getCurrentUserInfo=function(a,b){a=a||function(){};b=b||function(){};FB.api("/me",function(d){d?a(d):b()})};this.__defineGetter__("accessToken",function(){return c});this.__defineSetter__("accessToken",function(a){c=a});this.getProfilePictureUrl=function(a){return"https://graph.facebook.com/"+a+"/picture"};this.logout=function(a,b){a=a||function(){};b=b||function(){};try{FB.logout(function(){a()})}catch(d){b(d.message)}}}:
new f})(global);
(function(e){e.Appacitive.push=new function(){this.send=function(f,c,a){c=c||function(){};a=a||function(){};if(!f)throw Error("Please specify push options");var b=new e.Appacitive.HttpRequest;b.url=e.Appacitive.config.apiBaseUrl+Appacitive.storage.urlFactory.push.getPushUrl();b.method="post";b.data=f;b.onSuccess=function(b){b&&b.status&&"200"==b.status.code?c(b.id):(b=b||{},b.status=b.status||{},a(b.status.message||"Server error"))};b.onError=function(b){a(b||"Server error")};e.Appacitive.http.send(b)};this.getNotification=
function(f,c,a){c=c||function(){};a=a||function(){};if(!f)throw Error("Please specify notification id");var b=new e.Appacitive.HttpRequest;b.url=e.Appacitive.config.apiBaseUrl+Appacitive.storage.urlFactory.push.getGetNotificationUrl(f);b.method="get";b.onSuccess=function(b){b&&b.status&&"200"==b.status.code?c(b.pushnotification):(b=b||{},b.status=b.status||{},a(b.status.message||"Server error"))};b.onError=function(b){a(b||"Server error")};e.Appacitive.http.send(b)};this.getAllNotifications=function(f,
c,a){c=c||function(){};a=a||function(){};f?(f.pnum=f.pnum||1,f.psize=f.psize||20):f={pnum:1,psize:20};var b=new e.Appacitive.HttpRequest;b.url=e.Appacitive.config.apiBaseUrl+Appacitive.storage.urlFactory.push.getGetAllNotificationsUrl(f);b.method="get";b.onSuccess=function(b){b&&b.status&&"200"==b.status.code?c(b.pushnotifications,b.paginginfo):(b=b||{},b.status=b.status||{},a(b.status.message||"Server error"))};b.onError=function(b){a(b||"Server error")};e.Appacitive.http.send(b)}}})(global);
(function(e){e.Appacitive.parseISODate=function(e){try{var c=new Date(e);if(isNaN(c)){if(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$/.exec(e)){var a=e.split("T"),b=a[0].split("-"),d=a[1].split("Z")[0].split(":"),h=d[2].split("."),j=Number(d[0]),c=new Date;c.setUTCFullYear(Number(b[0]));c.setUTCMonth(Number(b[1])-1);c.setUTCDate(Number(b[2]));c.setUTCHours(Number(j));c.setUTCMinutes(Number(d[1]));c.setUTCSeconds(Number(h[0]));h[1]&&c.setUTCMilliseconds(Number(h[1]));
return c}return null}return c}catch(l){return null}};e.Appacitive.toISOString=function(e){try{return e=e.toISOString(),e.indexOf("Z"),e=replace("Z","0000Z")}catch(c){return null}}})(global);
(function(e){e.Appacitive.localStorage=new function(){var e=window.localStorage||{};this.set=function(c,a){a=a||"";if(!c)return!1;if("object"==typeof a)try{a=JSON.stringify(a)}catch(b){}e[c]=a;return!0};this.get=function(c){if(!c)return null;c=e.getItem(c);if(!c)return null;if("{"==c[0])try{c=JSON.parse(c)}catch(a){}return c};this.remove=function(c){if(c)try{delete e[c]}catch(a){}}}})(global);"undefined"!=typeof module&&(module.exports=function(e){global.Appacitive.initialize({apikey:e});return global.Appacitive});